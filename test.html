<!doctype html>
<html>

<head>
    <title></title>
    <meta charset="utf-8" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type="text/css">
    .hide {
        display: none !important;
    }
    
    .panel-up,
    .panel-down {
        width: 100%;
        float: left;
        min-height: 150px;
    }
    
    .panel-left,
    .panel-right {
        width: 40%;
        float: left;
        min-height: 150px;
    }
    
    .panel {
        margin-left: 5%;
    }
    
    .sbs {
        display: inline-block;
        vertical-align: top;
    }
    
    body {
        font-family: Helvetica;
    }
    </style>
</head>

<body>

    <iframe id="t-iframe" src="#" name="MP-Checkout" width="740" height="600" frameborder="0" class="hide"></iframe>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.mercadopago.com/org-img/jsapi/mptools/buttons/render.js"></script>
    <script type="text/javascript">

    function setUpMode(url, mode, w, h) {

        switch (mode) {
            case "iframe":

                $("#t-iframe").attr("src", url);

                if (w && h) {
                    $("#t-iframe").attr("width", w);
                    $("#t-iframe").attr("height", h);
                }

                $("#t-iframe").removeClass("hide");
                break;

            case "modal":
                $MPC.openCheckout({
                    url: url,
                    mode: mode
                });
                break;
        }

    }

    function setupPref(pref, pool, mode, logout, w, h) {

        var url = "https://www.mercadopago.com/" + (pool ? pool + "/" : "") + "checkout/pay?pref_id=" + pref;
        if (logout) {
            url += "&logout=" + logout;
        }
        setTimeout(function() {
            setUpMode(url, mode, w, h);
        }, 0);

    }

    $(document).ready(function() {

        function getParameterByName(name) {

            name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
            var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                results = regex.exec(location.search);
            return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));

        }

        var pref_id = getParameterByName('pref_id');
        var pool = getParameterByName('pool');
        var mode = getParameterByName('mode');
        var logout = getParameterByName('logout')
        var w = getParameterByName('w') ? getParameterByName('w') : "";
        var h = getParameterByName('h') ? getParameterByName('h') : "";

        setupPref(pref_id, pool, mode, logout, w, h);

    });
    </script>
</body>

</html>
